<!DOCTYPE html>
<html>
<head>
    <title>Satellite Map Viewer</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
    <h3>Satellite Map Viewer</h3>
    <label for="datePicker">Select Date: </label>
    <input type="date" id="datePicker" value="2025-09-23">

    <div id="map" style="width: 100%; height: 600px;"></div>

    <script>
        // สร้าง map
        var map = L.map('map').setView([13.7367, 100.5231], 6);

        // ใส่ base map OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'OSM'
        }).addTo(map);

        // layer สำหรับ satellite
        var satelliteLayer = L.tileLayer('https://tiles.maps.eox.at/wmts/1.0.0/sentinel-2/{z}/{x}/{y}.png', {
            attribution: 'Sentinel-2 © EOX',
            maxZoom: 19
        }).addTo(map);

        // ฟังก์ชัน update map (ตอนนี้ยังเป็น placeholder)
        function updateMap(date) {
            console.log("Selected date:", date);
            // ปัจจุบันยังใช้ latest tile layer
            // ต่อไปสามารถเปลี่ยนเป็น fetch จาก backend/GEE ได้
        }

        // event เมื่อเปลี่ยนวัน
        document.getElementById("datePicker").addEventListener("change", function() {
            updateMap(this.value);
        });
    </script>
</body>
</html>
