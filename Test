# แปลง lat/lon -> UTM
from pyproj import Transformer
transformer = Transformer.from_crs("EPSG:4326", "EPSG:32647", always_xy=True)
x_center, y_center = transformer.transform(lon, lat)

# เช็ค bounds
if not (475129.529 <= x_center <= 586939.529 and 1932627.815 <= y_center <= 2031777.815):
    raise ValueError("พิกัดอยู่นอก bounds ของภาพ!")
