# app.py
import streamlit as st
import pandas as pd
import numpy as np

# --- 1. หน้า UI ---
st.title("AGB Prediction from Satellite Imagery")

st.header("Input Plot Information")
lat = st.number_input("Latitude (N)", value=18.11302, format="%.6f")
lon = st.number_input("Longitude (E)", value=99.31819, format="%.6f")
width_m = st.number_input("Plot width (m)", value=10.0)
height_m = st.number_input("Plot height (m)", value=12.0)

# --- 2. Placeholder สำหรับค่า bands ---
st.subheader("Spectral Bands (placeholder)")
# ตอนนี้เรายังไม่ดึงค่าจริงจาก raster
bands = {
    "Blue (B1)": np.nan,
    "Green (B2)": np.nan,
    "Red (B3)": np.nan,
    "NIR (B4)": np.nan
}
st.write(pd.Series(bands))

# --- 3. Placeholder สำหรับค่า indices ---
st.subheader("Vegetation Indices (placeholder)")
L = 0.5
# สมมติค่า bands เป็นค่า placeholder เพื่อให้ UI ทำงาน
ndvi = tndvi = sr = savi = msavi2 = np.nan
indices = {
    "NDVI": ndvi,
    "TNDVI": tndvi,
    "SR": sr,
    "SAVI": savi,
    "MSAVI2": msavi2
}
st.write(pd.Series(indices))

# --- 4. Placeholder สำหรับ AGB ---
st.subheader("Predicted AGB (ton/ha)")
agb_pred = np.nan  # จะใช้ model คำนวณจริงต่อไป
st.write(f"{agb_pred} ton/ha")
