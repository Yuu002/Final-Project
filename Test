// App.js
import React, { useState } from 'react';
import { MapContainer, TileLayer, GeoJSON } from 'react-leaflet';
import 'leaflet/dist/leaflet.css';
import provincesData from './provinces.json'; // GeoJSON ของจังหวัด/รัฐ

function App() {
  const [selectedDate, setSelectedDate] = useState('2025-09-23');

  const handleDateChange = (e) => {
    setSelectedDate(e.target.value);
    console.log('Selected date:', e.target.value);
    // ต่อไปสามารถ fetch tile layer / backend ตามวันที่นี้
  };

  const geoStyle = {
    color: 'red',
    weight: 1,
    fill: false,
  };

  return (
    <div>
      <h2>Satellite Map Viewer</h2>
      <label htmlFor="datePicker">Select Date: </label>
      <input
        type="date"
        id="datePicker"
        value={selectedDate}
        onChange={handleDateChange}
      />

      <MapContainer center={[13.7367, 100.5231]} zoom={6} style={{ height: '600px', marginTop: '10px' }}>
        {/* Satellite Basemap */}
        <TileLayer
          url="https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"
          attribution="Tiles &copy; Esri"
          maxZoom={19}
        />

        {/* Province / State Borders */}
        <GeoJSON data={provincesData} style={geoStyle} />
      </MapContainer>
    </div>
  );
}

export default App;
